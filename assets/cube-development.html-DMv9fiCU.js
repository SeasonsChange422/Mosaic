import{_ as s,c as a,a as p,o as t}from"./app-BYxDtnMD.js";const e={};function o(c,n){return t(),a("div",null,n[0]||(n[0]=[p(`<h1 id="开发-cube" tabindex="-1"><a class="header-anchor" href="#开发-cube"><span>开发 Cube</span></a></h1><h2 id="_1-普通-cube" tabindex="-1"><a class="header-anchor" href="#_1-普通-cube"><span>1. 普通 Cube</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>tml<span class="token punctuation">.</span>mosaic<span class="token punctuation">.</span>cube<span class="token punctuation">.</span>external<span class="token punctuation">.</span></span><span class="token class-name">MCube</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>tml<span class="token punctuation">.</span>mosaic<span class="token punctuation">.</span>cube<span class="token punctuation">.</span>external<span class="token punctuation">.</span></span><span class="token class-name">MosaicCube</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@MCube</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;示例Cube&quot;</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">&quot;演示用&quot;</span><span class="token punctuation">,</span> version<span class="token operator">=</span><span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span> scope<span class="token operator">=</span><span class="token string">&quot;singleton&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleCube</span> <span class="token keyword">extends</span> <span class="token class-name">MosaicCube</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 读取配置</span></span>
<span class="line">        <span class="token class-name">String</span> v <span class="token operator">=</span> <span class="token function">getCubeConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">cubeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;example.cube&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-守护型-cube-angelcube" tabindex="-1"><a class="header-anchor" href="#_2-守护型-cube-angelcube"><span>2. 守护型 Cube（AngelCube）</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>tml<span class="token punctuation">.</span>mosaic<span class="token punctuation">.</span>cube<span class="token punctuation">.</span>external<span class="token punctuation">.</span></span><span class="token class-name">AngelCube</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>tml<span class="token punctuation">.</span>mosaic<span class="token punctuation">.</span>cube<span class="token punctuation">.</span>external<span class="token punctuation">.</span></span><span class="token class-name">MCube</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@MCube</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;守护Cube&quot;</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">&quot;长驻任务&quot;</span><span class="token punctuation">,</span> version<span class="token operator">=</span><span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DaemonCube</span> <span class="token keyword">extends</span> <span class="token class-name">AngelCube</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">cubeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;daemon.cube&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* 长驻逻辑 */</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* 关闭逻辑 */</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>说明：</p><ul><li>AngelCube 的执行由 AngelCubeActuator 管理，支持 start/stop、并发保护与超时清理。</li></ul>`,7)]))}const i=s(e,[["render",o]]),u=JSON.parse('{"path":"/plugin/cube-development.html","title":"开发 Cube","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1755189192000,"contributors":[{"name":"1204992313@qq.com","username":"","email":"1204992313@qq.com","commits":1}],"changelog":[{"hash":"6c9966b6c308672049e468e0c6fe7c49a351f4e8","time":1755189192000,"email":"1204992313@qq.com","author":"1204992313@qq.com","message":"vuepress文档"}]},"filePathRelative":"plugin/cube-development.md"}');export{i as comp,u as data};
